"use strict";var $j=jQuery.noConflict(),uri=window.location.pathname,href=window.location.href,devUrl="southeast-land-management",home;home=href.indexOf(devUrl)!==-1?"/southeast-land-management/":"",$j(document).ready(function(){albert.pickRandomSlide(),$j("#albert-down").on("click",function(e){e.preventDefault(),scroll("bio")}),$j("#hamburger").on("click",function(e){e.preventDefault(),open()}),$j("#close").on("click",function(e){e.preventDefault(),close()}),$j("#click-about").on("click",function(e){uri===home&&e.preventDefault(),scroll("bio"),close()}),$j(".show").on("click",function(e){e.preventDefault();var t=$j(this).attr("id");google.maps.event.trigger(markers[t],"click"),scroll("map")})});var initMap=function(e){var t=home+"/content/themes/slmgmt/prod/mapData.json";e=mapData?mapData:null,e?plotMapData(e):getMapData(t,plotMapData)},getMapData=function(e,t){$j.ajax({url:e,dataType:"json",success:function(e){console.log("Successfully retrieved map data",e),t(e)},fail:function(e){console.log("Map data was not found",e)}})},markers={},plotMapData=function(e){for(var t,l,l,i,n=new google.maps.LatLngBounds,o=new google.maps.InfoWindow,a=home+"/content/themes/slmgmt/assets/pin.png",r={maxZoom:11,center:{lat:35.243094,lng:-80.604347},disableDoubleClickZoom:!0,draggable:!0,scrollwheel:!1,panControl:!1,mapTypeControl:!1,streetViewControl:!1,styles:mapStyles},s=new google.maps.Map(document.getElementById("google-map"),r),c={url:a,origin:new google.maps.Point(0,0),anchor:new google.maps.Point(0,42)},i=0;i<e.length;i++){var t=new google.maps.LatLng(e[i].lat,e[i].long);n.extend(t);var l=new google.maps.Marker({position:t,map:s,icon:c});e[i].content=buildContentString(e[i]),google.maps.event.addListener(l,"click",function(t,l){return function(){o.setContent(e[l].content),o.open(s,t)}}(l,i)),s.fitBounds(n),markers[e[i].post_id]=l}},buildContentString=function(e){var t='<div id="content">';return t+='<p class="info-window">'+e.title+"</p>",t+='<p class="info-window">Acres: '+e.acres+" Parcel: ID "+e.parcel+"</p>",t+='<p class="info-window">County: '+e.county+" Street: "+e.street+"</p>",t+='<p class="info-window">Broker: <a class="maplink" href="'+e.url+'" target="_blank">'+e.broker+"</a> ID: "+e.post_id+"</p>",t+="</div>"},mapStyles=[{elementType:"geometry",stylers:[{color:"#5B6267"}]},{elementType:"labels.text.stroke",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#ffffff"}]},{featureType:"administrative.province",elementType:"geometry",stylers:[{color:"#283038"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#6b9a76"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#494B59"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#283038"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#f3d19c"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#2f3948"}]},{featureType:"transit.station",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#283038"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#ffffff"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#17263c"}]}],open=function(){$j("#nav").fadeOut(250),$j("#slide-menu").fadeIn(150).animate({right:"0px"},500)},close=function(){$j("#slide-menu").animate({right:"-100vw"}).fadeOut(250),$j("#nav").fadeIn(250)},queryProp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t={prop:e};$j.ajax({type:"POST",url:"../content/themes/ssp/investmetns_ajax.php",data:t,dataType:"json",encode:!0}).done(function(e){console.log("successfully submitted Property request",e)}).fail(function(e){console.log("error with Property submission",e)})},scroll=function(e){var e=$j("#"+e).offset();$j("html, body").animate({scrollTop:e.top},"slow","swing")},Slider={parent:"",children:"",duration:2e3,pauseTime:1e4,counter:1,clicked:!1};Slider.toggle=function(){this.clicked?this.clicked=!1:this.clicked=!0},Slider.slideFxn=function(){var e=this.$(this.parent).children().length,t=this.$(this.children+"-1").position().left;if(this.counter<=e&&this.counter>0){var l=this.$(this.children+"-"+this.counter),i=l.position().left,n=i-t;this.$(this.parent).animate({scrollLeft:n},this.duration)}else this.counter=1,this.$(parent).animate({scrollLeft:0},this.duration)},Slider.autoPlay=function(e){this.clicked?setTimeout(this.autoPlay.bind(this,e),this.pauseTime):(this.counter++,this.slideFxn(),e&&e(),setTimeout(this.autoPlay.bind(this,e),this.pauseTime))},Slider.start=function(e,t){this.$(this.parent).length&&setTimeout(this.autoPlay.bind(this,t),e)},Slider.moveSlide=function(){Slider.toggle(),this.slideFxn(),setInterval(this.toggle.bind(this),4e3)},Slider.next=function(e){this.counter++,e(),this.moveSlide()},Slider.prev=function(e){this.counter--,e(),this.moveSlide()};var albert={};albert.scaleIn=function(e){$j("#sa-"+e).fadeIn(1500,function(){$j("#sa-"+e).css({"transform-origin":"1cm 3px",transition:"all 10s"})})},albert.pickRandomSlide=function(){var e=($j(".albert").length,Math.floor(4*Math.random()+1));this.scaleIn(e)};var highlightText=function(){$j(".list").children().removeAttr("style"),$j("#li-"+sliderBradley.counter).children().css("color","#EF4136")},sliderBradley=Object.create(Slider);sliderBradley.parent="#writeups",sliderBradley.children="#wu",sliderBradley.$=jQuery.noConflict(),sliderBradley.duration=1e3,$j("#arrow-right").on("click",function(){sliderBradley.next(highlightText)}),$j("#arrow-left").on("click",function(){sliderBradley.prev(highlightText)}),$j(".list").on("click",function(e){e.preventDefault();var t=$j(this).attr("id").split("-");sliderBradley.counter=t[1],$j(".list").children().removeAttr("style"),$j(this).children().css("color","#EF4136"),sliderBradley.moveSlide(),console.log("manual override of counter: ",sliderBradley.counter)});var submitForm=function(e){var t={name:_.escape($j("input[name=name]").val()),email:_.escape($j("input[name=email]").val()),message:_.escape($j("textarea[name=message]").val())};$j.ajax({type:"POST",url:"../content/themes/slmgmt/mail.php",data:t,dataType:"json",encode:!0}).done(function(e){console.log("successfully submitted",e),$j("#forms").append('<h3 id="onSubmit">Inquiry Submitted! We will be in touch shortly!</h3>'),setTimeout(function(){$j("#onSubmit").remove()},2500)}).fail(function(e){console.log("error with submission",e),$j("#forms").append('<h3 id="onSubmit">Sorry, we ran into an error. Please try again!</h3>'),setTimeout(function(){$j("#onSubmit").remove()},2500)}).always(function(){$j("input[name=name]").val(""),$j("input[name=email]").val(""),$j("textarea[name=message]").val("")})};